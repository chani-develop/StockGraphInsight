אין בעיה, הנה קובץ ה-`README.md` המתוקן, עם **Angular 19** מעודכן:

---

```markdown
# אפליקציית גרפים למניות

אפליקציה זו מאפשרת למשתמשים להציג גרפי מניות אינטראקטיביים עבור חברות שונות בטווחים נבחרים, להוריד את הגרפים כתמונות ולשלוח אותם במייל. הפרויקט מורכב משני חלקים עיקריים: **Backend ב-.NET (C#)** ו-**Frontend ב-Angular**.

## טכנולוגיות בשימוש

### Backend (C# .NET)

* **.NET 8**: סביבת ריצה ופיתוח.
* **ASP.NET Core**: לבניית API RESTful.
* **Entity Framework Core**: לגישה למסד נתונים.
* **SQL Server LocalDB**: כמסד נתונים.
* **Alpha Vantage API**: לשליפת נתוני מניות בזמן אמת.
* **Newtonsoft.Json**: לטיפול ב-JSON.
* **HttpClient**: לביצוע בקשות HTTP.
* **MailKit / SmtpClient**: לשליחת מיילים.
* **CORS**: לניהול הרשאות בין ה-Frontend ל-Backend.

### Frontend (Angular)

* **Angular 19**: פלטפורמת פיתוח יישומים בצד הלקוח.
* **TypeScript**: שפת תכנות.
* **D3.js**: ספריית JavaScript עוצמתית ליצירת ויזואליזציות נתונים (גרפים).
* **Canvg**: ספרייה להמרת SVG ל-Canvas לצורך הורדת תמונות.
* **HttpClientModule**: לתקשורת עם ה-Backend.
* **RxJS**: לטיפול בזרמים אסינכרוניים.

## תכונות עיקריות

### Backend

* **שליפת נתוני מניות**: מתממשק עם Alpha Vantage API כדי לשלוף נתוני מניות יומיים עבור סמל נתון.
* **אחזור נתונים לפי טווחים**: מאפשר שליפת נתונים לטווחי זמן ספציפיים (היום, 7 ימים אחרונים, 30 ימים אחרונים, 6 חודשים אחרונים).
* **שמירת נתוני מניות**: שומר נתוני מניות במסד נתונים מקומי.
* **שליחת מייל**: מאפשר שליחת מיילים עם תמונות מצורפות.
* **הגדרות CORS**: מאפשר גישה ל-API מה-Frontend המבוסס על Angular.

### Frontend

* **הצגת גרפי מניות**: מציג גרפי קו אינטראקטיביים של מחירי סגירה של מניות באמצעות D3.js.
* **בחירת סמל וטווח**: מאפשר למשתמשים לבחור סמל מניה וטווח זמן להצגה.
* **הורדת גרף**: מאפשר הורדת הגרף המוצג כתמונת PNG.
* **שליחת גרף במייל**: מאפשר למשתמשים להזין כתובת מייל ולשלוח את הגרף כתמונה מצורפת.
* **תצוגת טעינה ונתונים חסרים**: מטפל במצבי טעינה וחוסר נתונים.
* **תמיכה בעברית**: הצגת טווחי זמן ושמות חברות בעברית.

## הגדרת הפרויקט והרצה

### 1. הגדרת Backend (C#)

1.  **שכפול המאגר (Repository):**
    ```bash
    git clone <קישור-למאגר-שלך>
    cd AlphaVantageApi # או שם התיקיה של הפרויקט שלך
    ```

2.  **הגדרת Connection String:**
    ודא שקובץ `appsettings.json` מכיל את ה-Connection String הנכון עבור מסד הנתונים:
    ```json
    "ConnectionStrings": {
      "DefaultConnection": "Server=(localdb)\\MSSQLLocalDB;Database=StockDb;Trusted_Connection=True;"
    }
    ```
    (אם אתה משתמש ב-SQL Server LocalDB, ייתכן שתצטרך ליצור את מסד הנתונים אם הוא לא קיים).

3.  **הגדרת פרטי אימייל:**
    ודא שקובץ `appsettings.json` מכיל את פרטי שרת ה-SMTP ופרטי ההתחברות לשליחת מיילים. **חשוב:** אם אתה משתמש ב-Gmail, ייתכן שתצטרך ליצור "סיסמת אפליקציה" (App Password) במקום סיסמת החשבון הרגילה שלך, לצורך אבטחה.
    ```json
    "EmailSettings": {
      "From": "your.email@gmail.com",
      "DisplayName": "Your Name",
      "Password": "your_app_password",
      "Host": "smtp.gmail.com",
      "Port": 587
    }
    ```

4.  **הפעלת Migrations (אם רלוונטי):**
    אם שינית את מודל הנתונים או אם זו ההרצה הראשונה, הפעל את הפקודות הבאות בקונסולת מנהל חבילות (Package Manager Console) ב-Visual Studio, או דרך CLI של .NET:
    ```powershell
    Add-Migration InitialCreate
    Update-Database
    ```
    (ודא שאתה בתיקיית הפרויקט הנכונה).

5.  **הרצת ה-Backend:**
    פתח את הפרויקט ב-Visual Studio והפעל אותו (או דרך CLI):
    ```bash
    dotnet run
    ```
    ה-API ירוץ בדרך כלל על `https://localhost:7025` (או פורט אחר כפי שמוגדר ב-`launchSettings.json`).

### 2. הגדרת Frontend (Angular)

1.  **ניווט לתיקיית הפרויקט:**
    עבור לתיקיית שורש פרויקט האנגולר.
    ```bash
    cd stock-graph-app # או שם התיקיה של פרויקט האנגולר שלך
    ```

2.  **התקנת תלויות:**
    ```bash
    npm install
    ```

3.  **הפעלת ה-Frontend:**
    ```bash
    ng serve
    ```
    האפליקציה תיבנה ותרוץ בדרך כלל על `http://localhost:4200`.

## שימוש באפליקציה

1.  פתח את הדפדפן ונווט לכתובת: `http://localhost:4200`.
2.  בחר סמל מניה וטווח זמן מהאפשרויות הזמינות.
3.  הגרף יוצג.
4.  השתמש בלחצנים המתאימים כדי להוריד את הגרף כתמונה או לשלוח אותו במייל.

## הערות חשובות

* **מפתח Alpha Vantage API**: הקוד משתמש במפתח API קבוע (`97FZVO3C18SSEG83`) בתוך ה-`AlphaVantageService`. לשם אבטחה טובה יותר וגמישות, שקול להעביר את מפתח ה-API לקובץ תצורה (למשל, `appsettings.json`) ולא לכלול אותו בקוד באופן ישיר.
* **CORS**: הגדרות ה-CORS ב-Backend מאפשרות גישה רק מ`http://localhost:4200`. אם הפרונטאנד שלך רץ על פורט או דומיין אחר, תצטרך לעדכן את המדיניות ב-`Program.cs` של ה-Backend.
* **שליחת מייל**: ודא שפרטי האימייל ב-`appsettings.json` נכונים ושהחשבון מאפשר שליחת מיילים דרך יישומים חיצוניים (לדוגמה, "סיסמת אפליקציה" ב-Gmail).
* **איכות התמונה במייל**: הורדת הגרף ושליחתו במייל משתמשות ב-Canvg כדי להמיר את ה-SVG ל-PNG ברזולוציה גבוהה (פי 2).
```